{"version":3,"file":"want.js","sources":["pages/want/want.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd2FudC93YW50LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"my-wanted-page\">\n    <!-- 顶部导航栏 -->\n    <view class=\"navbar\">\n      <text class=\"nav-title\">我想要的商品</text>\n      <button class=\"add-wanted-btn\" @click=\"addNewWanted\">\n        <uni-icons type=\"plus\" size=\"24\" color=\"#fff\"></uni-icons>\n        <text class=\"add-text\">发布需求</text>\n      </button>\n    </view>\n    \n    <!-- 需求状态筛选 -->\n    <view class=\"status-filter\">\n      <view \n        class=\"status-tag\" \n        :class=\"{ active: currentStatus === 'all' }\"\n        @click=\"handleStatusChange('all')\"\n      >\n        全部\n      </view>\n      <view \n        class=\"status-tag\" \n        :class=\"{ active: currentStatus === 'looking' }\"\n        @click=\"handleStatusChange('looking')\"\n      >\n        寻找中\n      </view>\n      <view \n        class=\"status-tag\" \n        :class=\"{ active: currentStatus === 'contacted' }\"\n        @click=\"handleStatusChange('contacted')\"\n      >\n        已联系\n      </view>\n      <view \n        class=\"status-tag\" \n        :class=\"{ active: currentStatus === 'completed' }\"\n        @click=\"handleStatusChange('completed')\"\n      >\n        已获得\n      </view>\n    </view>\n    \n    <!-- 商品列表组件 -->\n    <CommonGoodsList \n      :goodsList=\"filteredWantedGoods\" \n      :showPrice=\"true\"\n      :showStatus=\"true\"\n    />\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed ,onUnmounted } from 'vue';\nimport CommonGoodsList from '@/components/CommonGoodsList.vue';\n\n// 我想要的商品列表\nconst wantedGoods = ref([]);\n// 当前选中的状态筛选\nconst currentStatus = ref('all');\n\n// 页面加载时获取数据\nonMounted(() => {\n  // 加载模拟数据\n  loadMockData();\n});\n\n// 模拟数据加载\nconst loadMockData = () => {\n  // 显示加载提示\n  uni.showLoading({\n    title: '加载中...',\n    mask: true\n  });\n  \n  // 模拟网络请求延迟\n  setTimeout(() => {\n    // 模拟\"我想要的\"商品数据\n    wantedGoods.value = [\n      {\n        id: '3001',\n        title: '二手Switch游戏机',\n        desc: '希望收一台成色较好的Switch，带原装手柄，最好有几个游戏卡带',\n        imgUrl: 'https://picsum.photos/seed/switch/300/300',\n        price: '800-1200', // 价格范围\n        category: '电子数码',\n        location: '全部区域',\n        tags: ['需求', '可议价'],\n        status: '寻找中',\n        publishTime: '2023-10-19',\n        user: {\n          avatar: 'https://picsum.photos/seed/user1/100/100',\n          nickname: '数码爱好者'\n        }\n      },\n      {\n        id: '3002',\n        title: '《红楼梦》脂砚斋评注本',\n        desc: '求购人民文学出版社的《红楼梦》脂砚斋评注本，最好是精装版',\n        imgUrl: 'https://picsum.photos/seed/redbook/300/300',\n        price: '50-80',\n        category: '二手书',\n        location: '西区',\n        tags: ['需求', '正版'],\n        status: '已联系',\n        publishTime: '2023-10-15',\n        contactInfo: {\n          seller: '书香门第',\n          lastContact: '2小时前'\n        },\n        user: {\n          avatar: 'https://picsum.photos/seed/user1/100/100',\n          nickname: '数码爱好者'\n        }\n      },\n      {\n        id: '3003',\n        title: '折叠电动车',\n        desc: '求购小型折叠电动车，续航30公里以上，方便携带',\n        imgUrl: 'https://picsum.photos/seed/bike2/300/300',\n        price: '1500-2000',\n        category: '自行车',\n        location: '黄田坝',\n        tags: ['需求', '急购'],\n        status: '寻找中',\n        publishTime: '2023-10-18',\n        user: {\n          avatar: 'https://picsum.photos/seed/user1/100/100',\n          nickname: '数码爱好者'\n        }\n      },\n      {\n        id: '3004',\n        title: '瑜伽垫和瑜伽球',\n        desc: '求购一套瑜伽用品，瑜伽垫最好是防滑的，瑜伽球带打气筒',\n        imgUrl: 'https://picsum.photos/seed/yoga/300/300',\n        price: '50-100',\n        category: '体育用品',\n        location: '北区',\n        tags: ['需求', '闲置'],\n        status: '已获得',\n        publishTime: '2023-10-10',\n        user: {\n          avatar: 'https://picsum.photos/seed/user1/100/100',\n          nickname: '数码爱好者'\n        }\n      },\n      {\n        id: '3005',\n        title: '小型投影仪',\n        desc: '求购家用小型投影仪，亮度高一些，晚上看清晰',\n        imgUrl: 'https://picsum.photos/seed/projector/300/300',\n        price: '800-1500',\n        category: '电器',\n        location: '南区',\n        tags: ['需求', '可刀'],\n        status: '已联系',\n        publishTime: '2023-10-17',\n        contactInfo: {\n          seller: '影音发烧友',\n          lastContact: '1天前'\n        },\n        user: {\n          avatar: 'https://picsum.photos/seed/user1/100/100',\n          nickname: '数码爱好者'\n        }\n      }\n    ];\n    \n    // 关闭加载提示\n    uni.hideLoading();\n  }, 1000);\n};\n\n// 根据状态筛选商品\nconst filteredWantedGoods = computed(() => {\n  if (currentStatus.value === 'all') {\n    return wantedGoods.value;\n  }\n  return wantedGoods.value.filter(item => item.status === mapStatusText(currentStatus.value));\n});\n\n// 状态映射\nconst mapStatusText = (statusKey) => {\n  const statusMap = {\n    'looking': '寻找中',\n    'contacted': '已联系',\n    'completed': '已获得'\n  };\n  return statusMap[statusKey] || '';\n};\n\n// 处理状态筛选变化\nconst handleStatusChange = (status) => {\n  currentStatus.value = status;\n};\n\n// 发布新需求\nconst addNewWanted = () => {\n  // 仅做演示，不实际跳转\n  uni.showToast({\n    title: '跳转到发布需求页面',\n    icon: 'none',\n    duration: 1500\n  });\n};\n\n// 监听页面显示时刷新数据\nconst onShow = () => {\n  loadMockData();\n};\n\n// 注册页面显示时的生命周期钩子\nuni.$on('pageShow', onShow);\n\n// 页面卸载时移除监听\nonUnmounted(() => {\n  uni.$off('pageShow', onShow);\n});\n</script>\n\n<style scoped>\n.my-wanted-page {\n  background-color: #f5f7fa;\n  min-height: 100vh;\n}\n\n/* 导航栏样式 */\n.navbar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100rpx;\n  padding: 0 30rpx;\n  background-color: #fff;\n  box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\n  position: sticky;\n  top: 0;\n  z-index: 999;\n}\n\n.nav-title {\n  font-size: 36rpx;\n  font-weight: 600;\n  color: #333;\n}\n\n/* 发布需求按钮 */\n.add-wanted-btn {\n  display: flex;\n  align-items: center;\n  background-color: #4cd964;\n  color: #fff;\n  font-size: 28rpx;\n  padding: 0 25rpx;\r\n  margin-right: 6rpx;\n  height: 60rpx;\n  border-radius: 30rpx;\n  box-shadow: 0 4rpx 12rpx rgba(76, 217, 100, 0.3);\n  transition: all 0.2s ease;\n}\n\n.add-wanted-btn:hover {\n  background-color: #3dc254;\n  transform: translateY(-2rpx);\n}\n\n.add-text {\n  margin-left: 8rpx;\n}\n\n/* 状态筛选标签 */\n.status-filter {\n  display: flex;\n  padding: 15rpx 20rpx;\n  background-color: #fff;\n  gap: 15rpx;\n  overflow-x: auto;\n  white-space: nowrap;\n  box-shadow: 0 2rpx 5rpx rgba(0, 0, 0, 0.03);\n  margin-bottom: 20rpx;\n}\n\n.status-tag {\n  padding: 10rpx 25rpx;\n  border-radius: 30rpx;\n  font-size: 26rpx;\n  color: #666;\n  background-color: #f5f5f5;\n  transition: all 0.2s ease;\n}\n\n.status-tag.active {\n  background-color: #4cd964;\n  color: #fff;\n  box-shadow: 0 4rpx 10rpx rgba(76, 217, 100, 0.3);\n}\n\n.status-tag:active {\n  opacity: 0.8;\n}\n</style>\n","import MiniProgramPage from 'C:/Users/86133/Desktop/demo/Lezhuan/pages/want/want.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","uni","computed","onUnmounted"],"mappings":"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"}